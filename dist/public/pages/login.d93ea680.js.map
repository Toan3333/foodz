{"mappings":"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","sources":["<anon>","app/services/userService.js","app/login.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire06c3\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire06c3\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"1X0hR\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $16bb8622e571770b$export$2e2bcd8739ae039);\n\nvar $fmRoT = parcelRequire(\"fmRoT\");\nclass $16bb8622e571770b$var$userService {\n    constructor(endPoint){\n        this.collectionName = \"users\";\n        this.endPoint = endPoint;\n    }\n    getUsers = async ()=>{\n        const response = await (0, $fmRoT.default).get(this.endPoint + this.collectionName);\n        return response.data;\n    };\n    getUserId = async ()=>{\n        try {\n            const response = await (0, $fmRoT.default).get(`${this.endPoint}${this.collectionName}`);\n            const user = response.data;\n            if (user.length === 0) return \"0\";\n            return (parseInt(user[user.length - 1].id, 10) + 1).toString();\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    getUserById = async (id)=>{\n        const response = await (0, $fmRoT.default).get(this.endPoint + this.collectionName + \"/\" + id);\n        return response.data;\n    };\n    addUser = async (newUser)=>{\n        try {\n            const response = await (0, $fmRoT.default).post(this.endPoint + this.collectionName, newUser);\n            return response.data;\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    deleteUser = async (id)=>{\n        try {\n            const response = await (0, $fmRoT.default).delete(`${this.endPoint}${this.collectionName}/${id}`);\n            return response.data;\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    updateUser = async (id, newUserUpdate)=>{\n        try {\n            const response = await (0, $fmRoT.default).put(`${this.endPoint}${this.collectionName}/${id}`, newUserUpdate);\n            return response.data;\n        } catch (error) {\n            console.log(error);\n        }\n    };\n}\nvar $16bb8622e571770b$export$2e2bcd8739ae039 = $16bb8622e571770b$var$userService;\n\n});\n\n\nvar $1X0hR = parcelRequire(\"1X0hR\");\n\nvar $3610C = parcelRequire(\"3610C\");\nconst $eb6036f0fca658bd$var$userApi = new (0, $1X0hR.default)((0, $3610C.default).EndPoint);\nconst $eb6036f0fca658bd$var$loginForm = document.querySelector(\"#form-login\");\n$eb6036f0fca658bd$var$loginForm.addEventListener(\"submit\", async function(e) {\n    e.preventDefault();\n    const username = document.querySelector(\"#username\").value;\n    const password = document.querySelector(\"#password\").value;\n    if (username === \"\" || password === \"\") alert(\"Vui l\\xf2ng nh\\u1EADp \\u0111\\u1EA7y \\u0111\\u1EE7 th\\xf4ng tin \\u0111\\u0103ng nh\\u1EADp!\");\n    else try {\n        // Lấy tất cả người dùng từ JSON Server\n        const users = await $eb6036f0fca658bd$var$userApi.getUsers();\n        // Kiểm tra thông tin đăng nhập và quyền truy cập\n        const authenticatedUser = users.find((user)=>user.username === username && user.password === password);\n        if (authenticatedUser) {\n            if (authenticatedUser.role === \"admin\") // Nếu là admin, chuyển hướng đến trang quản trị admin\n            window.location.href = \"/admin/admin.html\";\n            else if (authenticatedUser.role === \"user\") // Nếu là user, chuyển hướng đến trang người dùng thông thường\n            window.location.href = \"index.html\";\n        } else alert(\"\\u0110\\u0103ng nh\\u1EADp kh\\xf4ng th\\xe0nh c\\xf4ng. Vui l\\xf2ng ki\\u1EC3m tra l\\u1EA1i th\\xf4ng tin \\u0111\\u0103ng nh\\u1EADp.\");\n    } catch (error) {\n        console.error(\"L\\u1ED7i \\u0111\\u0103ng nh\\u1EADp:\", error);\n        alert(\"\\u0110\\u0103ng nh\\u1EADp kh\\xf4ng th\\xe0nh c\\xf4ng. Vui l\\xf2ng th\\u1EED l\\u1EA1i sau.\");\n    }\n});\n$eb6036f0fca658bd$var$userApi.getUsers().then((data)=>{\n    console.log(data);\n});\n\n\n//# sourceMappingURL=login.d93ea680.js.map\n","import axios from \"axios\";\nclass userService {\n  constructor(endPoint) {\n    this.collectionName = \"users\";\n    this.endPoint = endPoint;\n  }\n\n  getUsers = async () => {\n    const response = await axios.get(this.endPoint + this.collectionName);\n    return response.data;\n  };\n  getUserId = async () => {\n    try {\n      const response = await axios.get(`${this.endPoint}${this.collectionName}`);\n      const user = response.data;\n      if (user.length === 0) {\n        return \"0\";\n      }\n      return (parseInt(user[user.length - 1].id, 10) + 1).toString();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  getUserById = async (id) => {\n    const response = await axios.get(this.endPoint + this.collectionName + \"/\" + id);\n    return response.data;\n  };\n  addUser = async (newUser) => {\n    try {\n      const response = await axios.post(this.endPoint + this.collectionName, newUser);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  deleteUser = async (id) => {\n    try {\n      const response = await axios.delete(`${this.endPoint}${this.collectionName}/${id}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  updateUser = async (id, newUserUpdate) => {\n    try {\n      const response = await axios.put(\n        `${this.endPoint}${this.collectionName}/${id}`,\n        newUserUpdate\n      );\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\nexport default userService;\n","import userService from \"./services/userService\";\nimport JsonServerConstants from \"./constants/JsonServerConstants\";\nconst userApi = new userService(JsonServerConstants.EndPoint);\n\nconst loginForm = document.querySelector(\"#form-login\");\n\nloginForm.addEventListener(\"submit\", async function (e) {\n  e.preventDefault();\n  const username = document.querySelector(\"#username\").value;\n  const password = document.querySelector(\"#password\").value;\n\n  if (username === \"\" || password === \"\") {\n    alert(\"Vui lòng nhập đầy đủ thông tin đăng nhập!\");\n  } else {\n    try {\n      // Lấy tất cả người dùng từ JSON Server\n      const users = await userApi.getUsers();\n\n      // Kiểm tra thông tin đăng nhập và quyền truy cập\n      const authenticatedUser = users.find(\n        (user) => user.username === username && user.password === password\n      );\n\n      if (authenticatedUser) {\n        if (authenticatedUser.role === \"admin\") {\n          // Nếu là admin, chuyển hướng đến trang quản trị admin\n          window.location.href = \"/admin/admin.html\";\n        } else if (authenticatedUser.role === \"user\") {\n          // Nếu là user, chuyển hướng đến trang người dùng thông thường\n          window.location.href = \"index.html\";\n        } else {\n          // Xử lý quyền truy cập khác nếu cần thiết\n        }\n      } else {\n        alert(\"Đăng nhập không thành công. Vui lòng kiểm tra lại thông tin đăng nhập.\");\n      }\n    } catch (error) {\n      console.error(\"Lỗi đăng nhập:\", error);\n      alert(\"Đăng nhập không thành công. Vui lòng thử lại sau.\");\n    }\n  }\n});\n\nuserApi.getUsers().then((data) => {\n  console.log(data);\n});\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$16bb8622e571770b$export$2e2bcd8739ae039","set","s","enumerable","configurable","$fmRoT","constructor","endPoint","collectionName","getUsers","response","default","data","getUserId","user","length","parseInt","toString","error","console","log","getUserById","addUser","newUser","post","deleteUser","delete","updateUser","newUserUpdate","put","$1X0hR","$3610C","$eb6036f0fca658bd$var$userApi","EndPoint","$eb6036f0fca658bd$var$loginForm","document","querySelector","addEventListener","e","preventDefault","username","value","password","alert","authenticatedUser","users","find","role","window","location","href","then"],"version":3,"file":"login.d93ea680.js.map"}