{"mappings":"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","sources":["<anon>","app/services/userService.js","app/listUsers.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire06c3\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire06c3\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"1X0hR\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $16bb8622e571770b$export$2e2bcd8739ae039);\n\nvar $fmRoT = parcelRequire(\"fmRoT\");\nclass $16bb8622e571770b$var$userService {\n    constructor(endPoint){\n        this.collectionName = \"users\";\n        this.endPoint = endPoint;\n    }\n    getUsers = async ()=>{\n        const response = await (0, $fmRoT.default).get(this.endPoint + this.collectionName);\n        return response.data;\n    };\n    getUserId = async ()=>{\n        try {\n            const response = await (0, $fmRoT.default).get(`${this.endPoint}${this.collectionName}`);\n            const user = response.data;\n            if (user.length === 0) return \"0\";\n            return (parseInt(user[user.length - 1].id, 10) + 1).toString();\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    getUserById = async (id)=>{\n        const response = await (0, $fmRoT.default).get(this.endPoint + this.collectionName + \"/\" + id);\n        return response.data;\n    };\n    addUser = async (newUser)=>{\n        try {\n            const response = await (0, $fmRoT.default).post(this.endPoint + this.collectionName, newUser);\n            return response.data;\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    deleteUser = async (id)=>{\n        try {\n            const response = await (0, $fmRoT.default).delete(`${this.endPoint}${this.collectionName}/${id}`);\n            return response.data;\n        } catch (error) {\n            console.log(error);\n        }\n    };\n    updateUser = async (id, newUserUpdate)=>{\n        try {\n            const response = await (0, $fmRoT.default).put(`${this.endPoint}${this.collectionName}/${id}`, newUserUpdate);\n            return response.data;\n        } catch (error) {\n            console.log(error);\n        }\n    };\n}\nvar $16bb8622e571770b$export$2e2bcd8739ae039 = $16bb8622e571770b$var$userService;\n\n});\n\n\nvar $1X0hR = parcelRequire(\"1X0hR\");\n\nvar $3610C = parcelRequire(\"3610C\");\nconst $2a72d7678dd4f388$var$userApi = new (0, $1X0hR.default)((0, $3610C.default).EndPoint);\nconst $2a72d7678dd4f388$var$showUser = document.querySelector(\"#showUser\");\nconst $2a72d7678dd4f388$var$formUserPost = document.querySelector(\".form-user-post\");\nconst $2a72d7678dd4f388$var$formUserEdit = document.querySelector(\"#formUserEdit\");\n// Thêm biến global để lưu trữ thông tin sản phẩm hiện tại\nlet $2a72d7678dd4f388$var$currentUser = null;\n$2a72d7678dd4f388$var$showUser.addEventListener(\"click\", async function(e) {\n    e.preventDefault();\n    if (e.target.matches(\".delete-btn\")) {\n        const id = e.target.getAttribute(\"data-id\");\n        try {\n            await $2a72d7678dd4f388$var$userApi.deleteUser(id);\n            const productRow = e.target.closest(\"tr\");\n            console.log(productRow);\n            productRow.remove();\n        } catch (error) {\n            console.log(error);\n        }\n    } else if (e.target.matches(\".edit-btn\")) {\n        const id = e.target.getAttribute(\"data-id\");\n        try {\n            await $2a72d7678dd4f388$var$handleEdit(id);\n        } catch (error) {\n            console.log(error);\n        }\n    }\n});\nasync function $2a72d7678dd4f388$var$handleEdit(id) {\n    $2a72d7678dd4f388$var$currentUser = await $2a72d7678dd4f388$var$userApi.getUserById(id);\n    document.getElementById(\"usernameUpdate\").value = $2a72d7678dd4f388$var$currentUser.username;\n    document.getElementById(\"passwordUpdate\").value = $2a72d7678dd4f388$var$currentUser.password;\n    document.getElementById(\"roleUpdate\").value = $2a72d7678dd4f388$var$currentUser.role;\n    document.getElementById(\"userId\").value = id;\n    showEditForm();\n}\n$2a72d7678dd4f388$var$formUserEdit.addEventListener(\"submit\", async function(e) {\n    e.preventDefault();\n    const usernameUpdate = document.querySelector(\"#usernameUpdate\").value;\n    const passwordUpdate = document.querySelector(\"#passwordUpdate\").value;\n    const roleUpdate = document.querySelector(\"#roleUpdate\").value;\n    const id = document.querySelector(\"#userId\").value;\n    try {\n        const updatedUser = await $2a72d7678dd4f388$var$userApi.updateUser(id, {\n            username: usernameUpdate,\n            password: passwordUpdate,\n            role: roleUpdate\n        });\n        closeModalUpdate();\n        $2a72d7678dd4f388$var$renderUsers(updatedUser);\n        location.reload(true);\n    } catch (error) {\n        console.log(error);\n    }\n});\n$2a72d7678dd4f388$var$formUserPost.addEventListener(\"submit\", async function(e) {\n    e.preventDefault();\n    const username = document.querySelector(\"#username\").value;\n    const password = document.querySelector(\"#password\").value;\n    const role = document.querySelector(\"#role\").value;\n    try {\n        const userId = await $2a72d7678dd4f388$var$userApi.getUserId();\n        const addUsers = await $2a72d7678dd4f388$var$userApi.addUser({\n            id: userId,\n            username: username,\n            password: password,\n            role: role\n        });\n        $2a72d7678dd4f388$var$renderUsers(addUsers);\n        closeModal();\n    } catch (error) {\n        console.log(error);\n    }\n});\nfunction $2a72d7678dd4f388$var$renderUsers(item) {\n    const template = `<tr>\n    <td>${item.id}</td>\n    <td>${item.username}</td>\n    <td>${item.password}</td>\n    <td>${item.role}</td>\n    <td>\n        <div class=\"edit-auth\">\n            <a href=\"#\" class=\"edit-btn\" data-id=\"${item.id}\">Edit</a>\n            <a href=\"#\" class=\"delete-btn\" data-id=\"${item.id}\">Delete</a>\n        </div>\n    </td> \n</tr>`;\n    $2a72d7678dd4f388$var$showUser.insertAdjacentHTML(\"beforeend\", template);\n}\n$2a72d7678dd4f388$var$userApi.getUsers().then((data)=>{\n    console.log(data);\n    data.forEach((item)=>{\n        $2a72d7678dd4f388$var$renderUsers(item);\n    });\n});\n\n\n//# sourceMappingURL=user.431e86f7.js.map\n","import axios from \"axios\";\nclass userService {\n  constructor(endPoint) {\n    this.collectionName = \"users\";\n    this.endPoint = endPoint;\n  }\n\n  getUsers = async () => {\n    const response = await axios.get(this.endPoint + this.collectionName);\n    return response.data;\n  };\n  getUserId = async () => {\n    try {\n      const response = await axios.get(`${this.endPoint}${this.collectionName}`);\n      const user = response.data;\n      if (user.length === 0) {\n        return \"0\";\n      }\n      return (parseInt(user[user.length - 1].id, 10) + 1).toString();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  getUserById = async (id) => {\n    const response = await axios.get(this.endPoint + this.collectionName + \"/\" + id);\n    return response.data;\n  };\n  addUser = async (newUser) => {\n    try {\n      const response = await axios.post(this.endPoint + this.collectionName, newUser);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  deleteUser = async (id) => {\n    try {\n      const response = await axios.delete(`${this.endPoint}${this.collectionName}/${id}`);\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  updateUser = async (id, newUserUpdate) => {\n    try {\n      const response = await axios.put(\n        `${this.endPoint}${this.collectionName}/${id}`,\n        newUserUpdate\n      );\n      return response.data;\n    } catch (error) {\n      console.log(error);\n    }\n  };\n}\nexport default userService;\n","import userService from \"./services/userService\";\nimport JsonServerConstants from \"./constants/JsonServerConstants\";\nconst userApi = new userService(JsonServerConstants.EndPoint);\nconst showUser = document.querySelector(\"#showUser\");\nconst formUserPost = document.querySelector(\".form-user-post\");\nconst formUserEdit = document.querySelector(\"#formUserEdit\");\n// Thêm biến global để lưu trữ thông tin sản phẩm hiện tại\nlet currentUser = null;\nshowUser.addEventListener(\"click\", async function (e) {\n  e.preventDefault();\n  if (e.target.matches(\".delete-btn\")) {\n    const id = e.target.getAttribute(\"data-id\");\n    try {\n      await userApi.deleteUser(id);\n      const productRow = e.target.closest(\"tr\");\n      console.log(productRow);\n      productRow.remove();\n    } catch (error) {\n      console.log(error);\n    }\n  } else if (e.target.matches(\".edit-btn\")) {\n    const id = e.target.getAttribute(\"data-id\");\n\n    try {\n      await handleEdit(id);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n});\nasync function handleEdit(id) {\n  currentUser = await userApi.getUserById(id);\n  document.getElementById(\"usernameUpdate\").value = currentUser.username;\n  document.getElementById(\"passwordUpdate\").value = currentUser.password;\n  document.getElementById(\"roleUpdate\").value = currentUser.role;\n  document.getElementById(\"userId\").value = id;\n  showEditForm();\n}\nformUserEdit.addEventListener(\"submit\", async function (e) {\n  e.preventDefault();\n  const usernameUpdate = document.querySelector(\"#usernameUpdate\").value;\n  const passwordUpdate = document.querySelector(\"#passwordUpdate\").value;\n  const roleUpdate = document.querySelector(\"#roleUpdate\").value;\n  const id = document.querySelector(\"#userId\").value;\n  try {\n    const updatedUser = await userApi.updateUser(id, {\n      username: usernameUpdate,\n      password: passwordUpdate,\n      role: roleUpdate,\n    });\n    closeModalUpdate();\n    renderUsers(updatedUser);\n    location.reload(true);\n  } catch (error) {\n    console.log(error);\n  }\n});\n\nformUserPost.addEventListener(\"submit\", async function (e) {\n  e.preventDefault();\n  const username = document.querySelector(\"#username\").value;\n  const password = document.querySelector(\"#password\").value;\n  const role = document.querySelector(\"#role\").value;\n\n  try {\n    const userId = await userApi.getUserId();\n    const addUsers = await userApi.addUser({\n      id: userId,\n      username: username,\n      password: password,\n      role: role,\n    });\n    renderUsers(addUsers);\n    closeModal();\n  } catch (error) {\n    console.log(error);\n  }\n});\nfunction renderUsers(item) {\n  const template = `<tr>\n    <td>${item.id}</td>\n    <td>${item.username}</td>\n    <td>${item.password}</td>\n    <td>${item.role}</td>\n    <td>\n        <div class=\"edit-auth\">\n            <a href=\"#\" class=\"edit-btn\" data-id=\"${item.id}\">Edit</a>\n            <a href=\"#\" class=\"delete-btn\" data-id=\"${item.id}\">Delete</a>\n        </div>\n    </td> \n</tr>`;\n  showUser.insertAdjacentHTML(\"beforeend\", template);\n}\n\nuserApi.getUsers().then((data) => {\n  console.log(data);\n  data.forEach((item) => {\n    renderUsers(item);\n  });\n});\n"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$16bb8622e571770b$export$2e2bcd8739ae039","set","s","enumerable","configurable","$fmRoT","constructor","endPoint","collectionName","getUsers","response","default","data","getUserId","user","length","parseInt","toString","error","console","log","getUserById","addUser","newUser","post","deleteUser","delete","updateUser","newUserUpdate","put","$1X0hR","$3610C","$2a72d7678dd4f388$var$userApi","EndPoint","$2a72d7678dd4f388$var$showUser","document","querySelector","$2a72d7678dd4f388$var$formUserPost","$2a72d7678dd4f388$var$formUserEdit","$2a72d7678dd4f388$var$currentUser","$2a72d7678dd4f388$var$handleEdit","getElementById","value","username","password","role","showEditForm","$2a72d7678dd4f388$var$renderUsers","item","template","insertAdjacentHTML","addEventListener","e","preventDefault","target","matches","getAttribute","productRow","closest","remove","usernameUpdate","passwordUpdate","roleUpdate","updatedUser","closeModalUpdate","location","reload","userId","addUsers","closeModal","then","forEach"],"version":3,"file":"user.431e86f7.js.map"}