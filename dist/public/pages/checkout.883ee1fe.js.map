{"mappings":"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","sources":["<anon>","app/services/orderService.js","app/checkout.js"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire06c3\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire06c3\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"emXng\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $a7612d3bc882c197$export$2e2bcd8739ae039);\n\nvar $fmRoT = parcelRequire(\"fmRoT\");\nclass $a7612d3bc882c197$var$orderService {\n    constructor(endPoint){\n        this.collectionName = \"order\";\n        this.endPoint = endPoint;\n    }\n    getOrder = async ()=>{\n        const response = await (0, $fmRoT.default).get(this.endPoint + this.collectionName);\n        return response.data;\n    };\n    addOrder = async (createOrder)=>{\n        const response = await (0, $fmRoT.default).post(this.endPoint + this.collectionName, createOrder);\n        return response.data;\n    };\n    deleteOrder = async (id)=>{\n        const response = await (0, $fmRoT.default).delete(`${this.endPoint}${this.collectionName}/${id}`);\n        return response.data;\n    };\n}\nvar $a7612d3bc882c197$export$2e2bcd8739ae039 = $a7612d3bc882c197$var$orderService;\n\n});\n\n\nvar $emXng = parcelRequire(\"emXng\");\n\nvar $3610C = parcelRequire(\"3610C\");\nconst $f2cb2b76f08b333e$var$orderApi = new (0, $emXng.default)((0, $3610C.default).EndPoint);\nconst $f2cb2b76f08b333e$var$currentDate = new Date();\nconst $f2cb2b76f08b333e$var$formattedDate = `${$f2cb2b76f08b333e$var$currentDate.getDate().toString().padStart(2, \"0\")}-${($f2cb2b76f08b333e$var$currentDate.getMonth() + 1).toString().padStart(2, \"0\")}-${$f2cb2b76f08b333e$var$currentDate.getFullYear()}`;\n// Định dạng ngày thành chuỗi\nlet $f2cb2b76f08b333e$var$cart = localStorage.getItem(\"cart\") ? JSON.parse(localStorage.getItem(\"cart\")) : [];\nconsole.log($f2cb2b76f08b333e$var$cart);\nconst $f2cb2b76f08b333e$var$checkoutList = document.querySelector(\"#checkout-list\");\nconst $f2cb2b76f08b333e$var$totalCheckout = document.querySelector(\"#totolCheckout\");\nconsole.log($f2cb2b76f08b333e$var$checkoutList);\nfunction $f2cb2b76f08b333e$var$renderCheckout() {\n    $f2cb2b76f08b333e$var$cart.forEach((item)=>{\n        const template = `<div class=\"checkout-detail__box-item\">\n    <div class=\"checkout-detail__box-image\">\n      <img src=\"${item.image}\" alt=\"\" />\n    </div>\n    <div class=\"checkout-detail__box-body\">\n      <div class=\"checkout-detail__box-name\">${item.name}</div>\n      <div class=\"checkout-detail__box-price\">$ ${item.price}</div>\n      <div class=\"checkout-detail__box-quantity\">\n        <span class=\"quantity-checkout\">Quantity: ${item.qty}</span>\n      </div>\n    </div>\n  </div>`;\n        $f2cb2b76f08b333e$var$checkoutList.insertAdjacentHTML(\"beforeend\", template);\n    });\n    $f2cb2b76f08b333e$var$total();\n}\n$f2cb2b76f08b333e$var$renderCheckout();\nfunction $f2cb2b76f08b333e$var$total() {\n    let sum = 0;\n    $f2cb2b76f08b333e$var$cart.forEach((item)=>{\n        sum += item.price * item.qty;\n    });\n    $f2cb2b76f08b333e$var$totalCheckout.innerHTML = `$ ${sum}`;\n}\nconst $f2cb2b76f08b333e$var$totalAmount = $f2cb2b76f08b333e$var$cart.reduce((total, item)=>total + item.price * item.qty, 0);\nconst $f2cb2b76f08b333e$var$formOrder = document.querySelector(\".form-order\");\n$f2cb2b76f08b333e$var$formOrder.addEventListener(\"submit\", async (e)=>{\n    e.preventDefault();\n    // Lấy dữ liệu từ form\n    const name = document.getElementById(\"name\").value;\n    const phone = document.getElementById(\"phone\").value;\n    const address = document.getElementById(\"address\").value;\n    // Lấy dữ liệu từ giỏ hàng\n    const cart = localStorage.getItem(\"cart\") ? JSON.parse(localStorage.getItem(\"cart\")) : [];\n    try {\n        // Tạo đơn hàng bằng cách gửi dữ liệu từ cả form và giỏ hàng lên server\n        const createOrder = await $f2cb2b76f08b333e$var$orderApi.addOrder({\n            name: name,\n            phone: phone,\n            address: address,\n            orderDate: $f2cb2b76f08b333e$var$formattedDate,\n            status: \"Pending\",\n            totalAmount: $f2cb2b76f08b333e$var$totalAmount,\n            // Thêm danh sách sản phẩm trong giỏ hàng vào đơn hàng\n            products: cart\n        });\n        // Sau khi đơn hàng được tạo thành công, bạn có thể xử lý các bước tiếp theo ở đây,\n        // như là hiển thị thông báo thành công, làm sạch giỏ hàng, chuyển hướng người dùng, vv.\n        // Ví dụ: Làm sạch giỏ hàng sau khi đơn hàng được tạo\n        localStorage.removeItem(\"cart\");\n        // Hiển thị thông báo hoặc thực hiện bất kỳ hành động khác tùy thuộc vào yêu cầu của bạn\n        alert(\"\\u0110\\u01A1n h\\xe0ng \\u0111\\xe3 \\u0111\\u01B0\\u1EE3c t\\u1EA1o th\\xe0nh c\\xf4ng!\");\n    } catch (error) {\n        console.log(error);\n        // Xử lý lỗi nếu có\n        alert(\"\\u0110\\xe3 c\\xf3 l\\u1ED7i x\\u1EA3y ra khi t\\u1EA1o \\u0111\\u01A1n h\\xe0ng. Vui l\\xf2ng th\\u1EED l\\u1EA1i sau.\");\n    }\n});\n\n\n//# sourceMappingURL=checkout.883ee1fe.js.map\n","import axios from \"axios\";\nclass orderService {\n  constructor(endPoint) {\n    this.collectionName = \"order\";\n    this.endPoint = endPoint;\n  }\n  getOrder = async () => {\n    const response = await axios.get(this.endPoint + this.collectionName);\n    return response.data;\n  };\n  addOrder = async (createOrder) => {\n    const response = await axios.post(this.endPoint + this.collectionName, createOrder);\n    return response.data;\n  };\n  deleteOrder = async (id) => {\n    const response = await axios.delete(`${this.endPoint}${this.collectionName}/${id}`);\n    return response.data;\n  };\n}\nexport default orderService;\n","import orderService from \"./services/orderService\";\nimport JsonServerConstants from \"./constants/JsonServerConstants\";\nconst orderApi = new orderService(JsonServerConstants.EndPoint);\nconst currentDate = new Date();\nconst formattedDate = `${currentDate.getDate().toString().padStart(2, \"0\")}-${(\n  currentDate.getMonth() + 1\n)\n  .toString()\n  .padStart(2, \"0\")}-${currentDate.getFullYear()}`;\n// Định dạng ngày thành chuỗi\n\nlet cart = localStorage.getItem(\"cart\") ? JSON.parse(localStorage.getItem(\"cart\")) : [];\nconsole.log(cart);\nconst checkoutList = document.querySelector(\"#checkout-list\");\nconst totalCheckout = document.querySelector(\"#totolCheckout\");\nconsole.log(checkoutList);\n\nfunction renderCheckout() {\n  cart.forEach((item) => {\n    const template = `<div class=\"checkout-detail__box-item\">\n    <div class=\"checkout-detail__box-image\">\n      <img src=\"${item.image}\" alt=\"\" />\n    </div>\n    <div class=\"checkout-detail__box-body\">\n      <div class=\"checkout-detail__box-name\">${item.name}</div>\n      <div class=\"checkout-detail__box-price\">$ ${item.price}</div>\n      <div class=\"checkout-detail__box-quantity\">\n        <span class=\"quantity-checkout\">Quantity: ${item.qty}</span>\n      </div>\n    </div>\n  </div>`;\n    checkoutList.insertAdjacentHTML(\"beforeend\", template);\n  });\n  total();\n}\nrenderCheckout();\nfunction total() {\n  let sum = 0;\n  cart.forEach((item) => {\n    sum += item.price * item.qty;\n  });\n  totalCheckout.innerHTML = `$ ${sum}`;\n}\nconst totalAmount = cart.reduce((total, item) => total + item.price * item.qty, 0);\nconst formOrder = document.querySelector(\".form-order\");\nformOrder.addEventListener(\"submit\", async (e) => {\n  e.preventDefault();\n\n  // Lấy dữ liệu từ form\n  const name = document.getElementById(\"name\").value;\n  const phone = document.getElementById(\"phone\").value;\n  const address = document.getElementById(\"address\").value;\n\n  // Lấy dữ liệu từ giỏ hàng\n  const cart = localStorage.getItem(\"cart\") ? JSON.parse(localStorage.getItem(\"cart\")) : [];\n\n  try {\n    // Tạo đơn hàng bằng cách gửi dữ liệu từ cả form và giỏ hàng lên server\n    const createOrder = await orderApi.addOrder({\n      name: name,\n      phone: phone,\n      address: address,\n      orderDate: formattedDate,\n      status: \"Pending\",\n      totalAmount: totalAmount, // Thêm tổng tiền vào đơn hàng\n      // Thêm danh sách sản phẩm trong giỏ hàng vào đơn hàng\n      products: cart,\n    });\n\n    // Sau khi đơn hàng được tạo thành công, bạn có thể xử lý các bước tiếp theo ở đây,\n    // như là hiển thị thông báo thành công, làm sạch giỏ hàng, chuyển hướng người dùng, vv.\n\n    // Ví dụ: Làm sạch giỏ hàng sau khi đơn hàng được tạo\n    localStorage.removeItem(\"cart\");\n\n    // Hiển thị thông báo hoặc thực hiện bất kỳ hành động khác tùy thuộc vào yêu cầu của bạn\n    alert(\"Đơn hàng đã được tạo thành công!\");\n  } catch (error) {\n    console.log(error);\n    // Xử lý lỗi nếu có\n    alert(\"Đã có lỗi xảy ra khi tạo đơn hàng. Vui lòng thử lại sau.\");\n  }\n});\n"],"names":["sum","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","Object","defineProperty","get","$a7612d3bc882c197$export$2e2bcd8739ae039","set","s","enumerable","configurable","$fmRoT","constructor","endPoint","collectionName","getOrder","response","default","data","addOrder","createOrder","post","deleteOrder","delete","$emXng","$3610C","$f2cb2b76f08b333e$var$orderApi","EndPoint","$f2cb2b76f08b333e$var$currentDate","Date","$f2cb2b76f08b333e$var$formattedDate","getDate","toString","padStart","getMonth","getFullYear","$f2cb2b76f08b333e$var$cart","localStorage","getItem","JSON","parse","console","log","$f2cb2b76f08b333e$var$checkoutList","document","querySelector","$f2cb2b76f08b333e$var$totalCheckout","forEach","item","template","image","name","price","qty","insertAdjacentHTML","innerHTML","$f2cb2b76f08b333e$var$totalAmount","reduce","total","$f2cb2b76f08b333e$var$formOrder","addEventListener","e","preventDefault","getElementById","value","phone","address","cart","orderDate","status","totalAmount","products","removeItem","alert","error"],"version":3,"file":"checkout.883ee1fe.js.map"}