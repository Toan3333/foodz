var t=globalThis,e={},a={},d=t.parcelRequire06c3;null==d&&((d=function(t){if(t in e)return e[t].exports;if(t in a){var d=a[t];delete a[t];var n={id:t,exports:{}};return e[t]=n,d.call(n.exports,n,n.exports),n.exports}var c=Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){a[t]=e},t.parcelRequire06c3=d),(0,d.register)("594Pg",function(t,e){Object.defineProperty(t.exports,"default",{get:()=>n,set:void 0,enumerable:!0,configurable:!0});var a=d("fmRoT"),n=class{constructor(t){this.collectionName="products",this.endPoint=t}findAllProducts=async()=>(await (0,a.default).get(this.endPoint+this.collectionName)).data;addAllProducts=async t=>(await (0,a.default).post(this.endPoint+this.collectionName,t)).data;getProductById=async t=>(await (0,a.default).get(this.endPoint+this.collectionName+"/"+t)).data;getlastId=async()=>{try{let t=(await (0,a.default).get(`${this.endPoint}${this.collectionName}`)).data;if(0===t.length)return"0";return(parseInt(t[t.length-1].id,10)+1).toString()}catch(t){console.error("Error getting last product ID:",t)}};deleteProduct=async t=>(await (0,a.default).delete(`${this.endPoint}${this.collectionName}/${t}`)).data;updateProduct=async(t,e)=>(await (0,a.default).put(`${this.endPoint}${this.collectionName}/${t}`,e)).data}});var n=d("594Pg"),c=d("3610C");const o=new n.default(c.default.EndPoint),r=document.querySelector("#showsp"),i=document.getElementById("addProductBtn"),l=document.getElementById("updatePro");let u=null;function s(t){let e=`<tr>
    <td>${t.id}</td>
    <td>${t.name}</td>
    <td class="admin-img"><img src="${t.image}" alt="" /></td>
    <td>$ ${t.price}</td>
    <td>${t.category}</td>
    <td>
      <div class="edit-auth">
        <a href="#" class="edit-btn" data-id="${t.id}">Edit</a>
        <a href="#" class="delete-btn" data-id="${t.id}">Delete</a>
      </div>
    </td>
  </tr>`;r.insertAdjacentHTML("beforeend",e)}async function g(){var t=document.getElementById("name").value,e=document.getElementById("price").value,a=document.getElementById("img").value,d=document.getElementById("category").value;try{let n=await o.getlastId(),c=await o.addAllProducts({id:n,name:t,price:e,image:a,category:d});closeModal(),s(c)}catch(t){console.error("Error adding product:",t)}}async function m(t){if(t.target.classList.contains("delete-btn")){let e=t.target.dataset.id;try{await o.deleteProduct(e),t.target.closest("tr").remove()}catch(t){console.error("Error deleting product:",t)}}}async function y(t){if(t.target.classList.contains("edit-btn")){let e=t.target.getAttribute("data-id");try{u=await o.getProductById(e),document.getElementById("nameUpdate").value=u.name,document.getElementById("priceUpdate").value=u.price,document.getElementById("imageUpdate").value=u.image,document.getElementById("categoryUpdate").value=u.category,document.getElementById("productId").value=e,showEditForm()}catch(t){console.error("Error fetching product data for edit:",t)}}}async function p(){if(u){var t=document.getElementById("nameUpdate").value,e=document.getElementById("priceUpdate").value,a=document.getElementById("imageUpdate").value,d=document.getElementById("categoryUpdate").value;let n=document.getElementById("productId").value;try{let c=await o.updateProduct(n,{name:t,image:a,category:d,price:e});closeModalUpdate(),s(c),u=c}catch(t){console.log(t)}}}i.addEventListener("click",g),r.addEventListener("click",m),l.addEventListener("click",p),r.addEventListener("click",y),o.findAllProducts().then(t=>{console.log(t),t.forEach(t=>{s(t)})});
//# sourceMappingURL=product.f969389f.js.map
