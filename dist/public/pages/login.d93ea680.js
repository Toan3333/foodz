var e=globalThis,t={},n={},a=e.parcelRequire06c3;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,a.call(r.exports,r,r.exports),r.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire06c3=a),(0,a.register)("1X0hR",function(e,t){Object.defineProperty(e.exports,"default",{get:()=>r,set:void 0,enumerable:!0,configurable:!0});var n=a("fmRoT"),r=class{constructor(e){this.collectionName="users",this.endPoint=e}getUsers=async()=>(await (0,n.default).get(this.endPoint+this.collectionName)).data;getUserId=async()=>{try{let e=(await (0,n.default).get(`${this.endPoint}${this.collectionName}`)).data;if(0===e.length)return"0";return(parseInt(e[e.length-1].id,10)+1).toString()}catch(e){console.log(e)}};getUserById=async e=>(await (0,n.default).get(this.endPoint+this.collectionName+"/"+e)).data;addUser=async e=>{try{return(await (0,n.default).post(this.endPoint+this.collectionName,e)).data}catch(e){console.log(e)}};deleteUser=async e=>{try{return(await (0,n.default).delete(`${this.endPoint}${this.collectionName}/${e}`)).data}catch(e){console.log(e)}};updateUser=async(e,t)=>{try{return(await (0,n.default).put(`${this.endPoint}${this.collectionName}/${e}`,t)).data}catch(e){console.log(e)}}}});var r=a("1X0hR"),o=a("3610C");const i=new r.default(o.default.EndPoint);document.querySelector("#form-login").addEventListener("submit",async function(e){e.preventDefault();let t=document.querySelector("#username").value,n=document.querySelector("#password").value;if(""===t||""===n)alert("Vui lòng nhập đầy đủ thông tin đăng nhập!");else try{let e=(await i.getUsers()).find(e=>e.username===t&&e.password===n);e?"admin"===e.role?window.location.href="/admin/admin.html":"user"===e.role&&(window.location.href="index.html"):alert("Đăng nhập không thành công. Vui lòng kiểm tra lại thông tin đăng nhập.")}catch(e){console.error("Lỗi đăng nhập:",e),alert("Đăng nhập không thành công. Vui lòng thử lại sau.")}}),i.getUsers().then(e=>{console.log(e)});
//# sourceMappingURL=login.d93ea680.js.map
